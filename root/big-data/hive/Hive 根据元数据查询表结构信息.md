## 查询表结构信息

```sql
SELECT
    DBS.NAME                    AS SCHEMA_NAME,
    TBLS.TBL_NAME               AS TABLE_NAME,
    TABLE_PARAMS.PARAM_VALUE    AS TABLE_COMMENT,
    COLUMNS_V2.COLUMN_NAME      AS COLUMN_NAME,
    COLUMNS_V2.TYPE_NAME        AS COLUMN_TYPE,
    COLUMNS_V2.COMMENT          AS COLUMN_COMMENT,
    PARTITION_KEYS.PKEY_NAME    AS PARTITION_COLUMN_NAME,
    PARTITION_KEYS.PKEY_TYPE    AS PARTITION_COLUMN_TYPE,
    PARTITION_KEYS.PKEY_COMMENT AS PARTITION_COLUMN_COMMENT
FROM hive.DBS
    LEFT JOIN hive.TBLS           ON TBLS.DB_ID = DBS.DB_ID
    LEFT JOIN hive.TABLE_PARAMS   ON TABLE_PARAMS.TBL_ID = TBLS.TBL_ID AND TABLE_PARAMS.PARAM_KEY = 'COMMENT'
    LEFT JOIN hive.SDS            ON SDS.SD_ID = TBLS.SD_ID
    LEFT JOIN hive.COLUMNS_V2     ON COLUMNS_V2.CD_ID = SDS.CD_ID
    LEFT JOIN hive.PARTITION_KEYS ON PARTITION_KEYS.TBL_ID = TBLS.TBL_ID
ORDER BY DBS.NAME, TBLS.TBL_NAME, COLUMNS_V2.INTEGER_IDX
```

## 收藏

- [Hive 笔记 6-hive 元数据表结构详解](https://www.jianshu.com/p/3841d7e89c98)
