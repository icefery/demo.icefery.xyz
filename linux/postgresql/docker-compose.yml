version: '3'

services:
  postgresql:
    image: postgres:14
    container_name: postgresql
    hostname: postgresql
    environment:
      - POSTGRES_PASSWORD=postgres
    ports:
      - 5432:5432
    volumes:
      - /d/share/:/d/share/
      - ../../data/postgresql/var/lib/postgresql/data/:/var/lib/postgresql/data/
  pgadmin4:
    image: dpage/pgadmin4:2021-11-15-2
    container_name: pgadmin4
    hostname: pgadmin4
    environment:
      - PGADMIN_DEFAULT_EMAIL='icefery@163.com'
      - PGADMIN_DEFAULT_PASSWORD='icefery@163.com'
    ports:
      - 5480:80

networks:
  default:
    external: true
    name: local
